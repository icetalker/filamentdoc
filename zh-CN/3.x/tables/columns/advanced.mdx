---
layout: "@layouts/BaseLayout.astro"
githubUrl: "https://github.com/filamentphp/filament/edit/3.x/packages/tables/docs/03-columns/12-advanced.md"
title: 高级列
---

## Table column utility injection

The vast majority of methods used to configure columns accept functions as parameters instead of hardcoded values:

```php
use Filament\Tables\Columns\TextColumn;

TextColumn::make('status')
    ->color(fn (string $state): string => match ($state) {
        'draft' => 'gray',
        'reviewing' => 'warning',
        'published' => 'success',
        'rejected' => 'danger',
    })
```

仅此一点就开启了许多自定义的可能性。

The package is also able to inject many utilities to use inside these functions, as parameters. All customization methods that accept functions as arguments can inject utilities.

These injected utilities require specific parameter names to be used. Otherwise, Filament doesn't know what to inject.

### 注入当前列状体

如果你想访问列字段的当前状态(值)，请定义 `$state` 参数：

```php
function ($state) {
    // ...
}
```

### 注入当前 Eloquent 记录

如果你想要访问列字段的当前 Eloquent 记录，请定义 `$record` 参数：

```php
use Illuminate\Database\Eloquent\Model;

function (Model $record) {
    // ...
}
```

请注意，如果这个列没有绑定到 Eloquent 记录，则这个参数值为 `null`。比如，列字段的 `label()`方法将无法访问记录，因为标签没有关联到任何记录。

### 注入当前列实例

如果你想访问当前列实例，请定义 `$column` 参数：

```php
use Filament\Tables\Columns\Column;

function (Column $column) {
    // ...
}
```

### 注入当前 Livewire 组件实例

如果你想要访问表格所属的当前 Livewire 组件实例，请定义 `$livewire` 参数：

```php
use Filament\Tables\Contracts\HasTable;

function (HasTable $livewire) {
    // ...
}
```

### 注入当前表格实例


如果你想要访问列字段所属的当前表格配置实例，请定义 `$livewire` 参数：

```php
use Filament\Tables\Table;

function (Table $table) {
    // ...
}
```

### Injecting the current table row loop

If you wish to access the current [Laravel Blade loop object](https://laravel.com/docs/blade#the-loop-variable) that the column is rendered part of, define a `$rowLoop` parameter:

```php
function (stdClass $rowLoop) {
    // ...
}
```

As `$rowLoop` is [Laravel Blade's `$loop` object](https://laravel.com/docs/blade#the-loop-variable), you can access the current row index using `$rowLoop->index`. Similar to `$record`, this parameter will be `null` if the column is currently being rendered outside a table row.

### Injecting multiple utilities

The parameters are injected dynamically using reflection, so you are able to combine multiple parameters in any order:

```php
use Filament\Tables\Contracts\HasTable;
use Illuminate\Database\Eloquent\Model;

function (HasTable $livewire, Model $record) {
    // ...
}
```

### Injecting dependencies from Laravel's container

You may inject anything from Laravel's container like normal, alongside utilities:

```php
use Illuminate\Database\Eloquent\Model;
use Illuminate\Http\Request;

function (Request $request, Model $record) {
    // ...
}
```
